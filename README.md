# rust-nursery
Rust exercises

### Move semantics

- ["move_semantics1.rs"](https://play.rust-lang.org/?code=%2F%2F%0D%0A%2F%2F+move_semantics1.rs%0D%0A%2F%2F%0D%0A%2F%2F+This+example+requries+familiarity+with+operator+overloading.%0D%0A%2F%2F%0D%0A%0D%0Afn+main%28%29+%7B%0D%0A++++%2F%2F+String+from+str%0D%0A++++let+foo+%3D+String%3A%3Afrom%28%22Hello%22%29%3B%0D%0A%0D%0A++++%2F%2F+concatenate+String+type+with+str+using+overloaded+%2B+operator+%0D%0A++++%2F%2F+%28see+string.rs+on+how+%60Add%60+trait+is+impl+for+String%29%0D%0A++++let+_bar+%3D+foo+%2B+%22+world%21%22%3B%0D%0A%0D%0A++++%2F%2F+Why+compilator+complains+about+the+move%3F+%28scroll+down+for+answer%29%0D%0A++++println%21%28%22%7B%7D%22%2C+foo%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F%0D%0A%2F%2F+ANSWER%3A%0D%0A%2F%2F+%2B+operator+is+overloaded+for+String+and+in+the+following+way%3A%0D%0A%2F%2F+%60%60%60%0D%0A%2F%2F+impl%3C%27a%3E+Add%3C%26%27a+str%3E+for+String+%7B%0D%0A%2F%2F+++++type+Output+%3D+String%3B%0D%0A%2F%2F+%0D%0A%2F%2F+++++%23%5Binline%5D%0D%0A%2F%2F+++++fn+add%28mut+self%2C+other%3A+%26str%29+-%3E+String+%7B%0D%0A%2F%2F+++++++++self.push_str%28other%29%3B%0D%0A%2F%2F+++++++++self%0D%0A%2F%2F+++++%7D%0D%0A%2F%2F+%7D%0D%0A%2F%2F+%60%60%60+%0D%0A%2F%2F%0D%0A%2F%2F+It+means+%60Add%60+function+takes+%60self%60+as+mutable+and+compiler+applies+a+rule%3A+%0D%0A%2F%2F+there+is+either+one+mutable+reference+or+any+number+of+immutable+references.%0D%0A%2F%2F+%60print%21%60+macro+cannot+borrow+%60foo%60+as+immutable.%0D%0A%2F%2F%0D%0A%2F%2F+Simply+put%3A+value+%60foo%60+cannot+be+used+after+move.%0D%0A%2F%2F+)
- ["move_semantics2.rs"](https://play.rust-lang.org/?code=%2F%2F%0D%0A%2F%2F+move_semantics2.rs%0D%0A%2F%2F%0D%0A%2F%2F+This+example+was+taken+from+%22Programming+Rust%22+book+%28pp.+85-86%29.%0D%0A%2F%2F%0D%0A%0D%0Afn+main%28%29+%7B%0D%0A++++let+v+%3D+vec%21%5B%22libert%C3%A9%22.to_string%28%29%2C%0D%0A+++++++++++++++++%22%C3%A9galit%C3%A9%22.to_string%28%29%2C%0D%0A+++++++++++++++++%22fraternit%C3%A9%22.to_string%28%29%5D%3B%0D%0A%0D%0A++++for+mut+s+in+v+%7B%0D%0A++++++++s.push%28%27%21%27%29%3B%0D%0A++++%7D%0D%0A++++%0D%0A++++%2F%2F+Why+borrow+checker+complains%3F+Can+you+fix+it%3F+%28scroll+down+for+hints%29%0D%0A++++println%21%28%22%7B%3A%3F%7D%22%2C+v%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F+When+we+pass+the+vector+to+the+loop+directly%2C+as+in+for+...+in+v%2C+%0D%0A%2F%2F+this+moves+the+vector+out+of+v%2C+leaving+v+uninitialized.%0D%0A%2F%2F+So%2C+if+we+want+to+use+v+after+the+for+loop%2C+we+would+need+to+pass%0D%0A%2F%2F+v+as+a+reference%2C+but+immutable+reference+won%27t+cut+it.+See+why.%0D%0A%2F%2F+It%27s+not+possible+to+borrow+mutably+if+v+is+not+mutable+itself.%0D%0A%2F%2F+You+need+to+make+v+mutable+and+then+pass+it+as+mutable+reference%0D%0A%2F%2F+to+for+loop.%0D%0A)
- ["move_semantics3.rs"](https://play.rust-lang.org/?code=%2F%2F%0D%0A%2F%2F+move_semantics3.rs%0D%0A%2F%2F%0D%0A%2F%2F+Example+demonstrating+limitations+of+borrowing+from+indexexed+content%0D%0A%2F%2F+and+possible+means+of+addressing+them.+%0D%0A%2F%2F%0D%0A%2F%2F+Taken+from+%22Programming+Rust%22+book+%28p.+86%29.%0D%0A%2F%2F%0D%0A%0D%0A%23%5Ballow%28dead_code%29%5D%0D%0Astruct+Person+%7B+name%3A+String%2C+birth%3A+i32+%7D%0D%0A%0D%0Afn+main%28%29+%7B%0D%0A++++let+mut+composers+%3D+Vec%3A%3Anew%28%29%3B%0D%0A++++composers.push%28Person+%7B+name%3A+%22Palestrina%22.to_string%28%29%2C+birth%3A+1525+%7D%29%3B%0D%0A++++++++++++++++++++++++++++%0D%0A++++%2F%2F+1.+Generates+%22cannot+move+out+of+indexed+content%22+error.+Fix+it.%0D%0A++++let+first_name+%3D+composers%5B0%5D.name%3B%0D%0A++++println%21%28%22%7B%3A%3F%7D%22%2C+first_name%29%3B%0D%0A++++%0D%0A++++%2F%2F+2.+This+does+not+generate+any+issues.+Do+you+know+why%3F%0D%0A++++println%21%28%22%7B%3A%3F%7D%22%2C+composers%5B0%5D.name%29%3B%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%2F%2F+1.+The+compiler+error+message+offers+a+solution%3A+just+use+a+rerefernce.%0D%0A%2F%2F+2.+The+println+macro+takes+its+arguements+by+reference.)
